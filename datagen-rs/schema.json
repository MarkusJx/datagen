{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Schema",
  "type": "object",
  "anyOf": [
    {
      "$ref": "#/definitions/Any"
    },
    {
      "type": "string"
    },
    {
      "type": "number",
      "format": "double"
    },
    {
      "type": "boolean"
    },
    {
      "type": "null"
    }
  ],
  "properties": {
    "options": {
      "anyOf": [
        {
          "$ref": "#/definitions/SchemaOptions"
        },
        {
          "type": "null"
        }
      ]
    }
  },
  "definitions": {
    "Any": {
      "oneOf": [
        {
          "type": "object",
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "max": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "format": "double"
                },
                "min": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "format": "double"
                },
                "precision": {
                  "type": [
                    "integer",
                    "null"
                  ],
                  "format": "uint8",
                  "minimum": 0.0
                },
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                }
              },
              "additionalProperties": false
            },
            {
              "type": "object",
              "required": [
                "value"
              ],
              "properties": {
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                },
                "value": {
                  "type": "number",
                  "format": "double"
                }
              },
              "additionalProperties": false
            }
          ],
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "number"
              ]
            }
          }
        },
        {
          "type": "object",
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "max": {
                  "type": [
                    "integer",
                    "null"
                  ],
                  "format": "int64"
                },
                "min": {
                  "type": [
                    "integer",
                    "null"
                  ],
                  "format": "int64"
                },
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                }
              },
              "additionalProperties": false
            },
            {
              "type": "object",
              "required": [
                "value"
              ],
              "properties": {
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                },
                "value": {
                  "type": "integer",
                  "format": "int64"
                }
              },
              "additionalProperties": false
            }
          ],
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "integer"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "step": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int64"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "counter"
              ]
            }
          }
        },
        {
          "type": "object",
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "probability": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "format": "double"
                },
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "value"
              ],
              "properties": {
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                },
                "value": {
                  "type": "boolean"
                }
              }
            }
          ],
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "bool"
              ]
            }
          }
        },
        {
          "type": "object",
          "anyOf": [
            {
              "type": "object",
              "required": [
                "generator"
              ],
              "properties": {
                "generator": {
                  "$ref": "#/definitions/StringGenerator"
                },
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                }
              },
              "additionalProperties": false
            },
            {
              "type": "object",
              "required": [
                "value"
              ],
              "properties": {
                "transform": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "$ref": "#/definitions/Transform"
                  }
                },
                "value": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          ],
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "string"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "values"
          ],
          "properties": {
            "num": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int64"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "anyOf"
              ]
            },
            "values": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AnyValue"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "reference",
            "type"
          ],
          "properties": {
            "except": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/StringOrNumber"
              }
            },
            "keepAll": {
              "type": [
                "boolean",
                "null"
              ]
            },
            "reference": {
              "type": "string"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "reference"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "pluginName",
            "type"
          ],
          "properties": {
            "args": true,
            "pluginName": {
              "type": "string"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "plugin"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "items",
            "length",
            "type"
          ],
          "properties": {
            "items": {
              "$ref": "#/definitions/AnyValue"
            },
            "length": {
              "$ref": "#/definitions/ArrayLength"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "array"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "properties",
            "type"
          ],
          "properties": {
            "properties": {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/AnyValue"
              }
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "object"
              ]
            }
          }
        },
        {
          "description": "Flatten is a special case of Object that allows you to flatten multiple objects or arrays into one.",
          "type": "object",
          "required": [
            "type",
            "values"
          ],
          "properties": {
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "flatten"
              ]
            },
            "values": {
              "description": "The values to flatten. These can be objects, references, or generators. These values must all return either objects or arrays, not both, otherwise an error will be thrown. If no values are provided, null will be returned.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/FlattenableValue"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "path",
            "type"
          ],
          "properties": {
            "mode": {
              "anyOf": [
                {
                  "$ref": "#/definitions/FileMode"
                },
                {
                  "type": "null"
                }
              ]
            },
            "path": {
              "type": "string"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "file"
              ]
            }
          }
        }
      ]
    },
    "AnyValue": {
      "anyOf": [
        {
          "$ref": "#/definitions/Any"
        },
        {
          "type": "string"
        },
        {
          "type": "number",
          "format": "double"
        },
        {
          "type": "boolean"
        },
        {
          "type": "null"
        }
      ]
    },
    "Array": {
      "type": "object",
      "required": [
        "items",
        "length"
      ],
      "properties": {
        "items": {
          "$ref": "#/definitions/AnyValue"
        },
        "length": {
          "$ref": "#/definitions/ArrayLength"
        },
        "transform": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/Transform"
          }
        }
      }
    },
    "ArrayLength": {
      "anyOf": [
        {
          "type": "object",
          "required": [
            "value"
          ],
          "properties": {
            "value": {
              "type": "integer",
              "format": "uint32",
              "minimum": 0.0
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "max",
            "min"
          ],
          "properties": {
            "max": {
              "type": "integer",
              "format": "uint32",
              "minimum": 0.0
            },
            "min": {
              "type": "integer",
              "format": "uint32",
              "minimum": 0.0
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "FileMode": {
      "type": "string",
      "enum": [
        "sequential",
        "random"
      ]
    },
    "FilterTransformOp": {
      "oneOf": [
        {
          "description": "The value must be equal to the other value",
          "type": "string",
          "enum": [
            "equals"
          ]
        },
        {
          "description": "The value must not be equal to the other value",
          "type": "string",
          "enum": [
            "notEquals"
          ]
        }
      ]
    },
    "FlattenableValue": {
      "anyOf": [
        {
          "$ref": "#/definitions/Object"
        },
        {
          "$ref": "#/definitions/Array"
        },
        {
          "$ref": "#/definitions/Reference"
        },
        {
          "$ref": "#/definitions/Plugin"
        }
      ]
    },
    "FormatArg": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "$ref": "#/definitions/string"
        },
        {
          "type": "integer",
          "format": "int32"
        },
        {
          "type": "number",
          "format": "double"
        },
        {
          "$ref": "#/definitions/Reference"
        }
      ]
    },
    "GeneratedSchema": {
      "anyOf": [
        {
          "type": "null"
        },
        {
          "type": "number",
          "format": "double"
        },
        {
          "type": "integer",
          "format": "int64"
        },
        {
          "type": "boolean"
        },
        {
          "type": "string"
        },
        {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GeneratedSchema"
          }
        },
        {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/GeneratedSchema"
          }
        },
        true
      ]
    },
    "Object": {
      "type": "object",
      "required": [
        "properties"
      ],
      "properties": {
        "properties": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/AnyValue"
          }
        },
        "transform": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/Transform"
          }
        }
      }
    },
    "Plugin": {
      "type": "object",
      "required": [
        "pluginName"
      ],
      "properties": {
        "args": true,
        "pluginName": {
          "type": "string"
        },
        "transform": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/Transform"
          }
        }
      }
    },
    "PluginInitArgs": {
      "anyOf": [
        {
          "type": "object",
          "required": [
            "path"
          ],
          "properties": {
            "args": true,
            "path": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        true
      ]
    },
    "Reference": {
      "type": "object",
      "required": [
        "reference"
      ],
      "properties": {
        "except": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/StringOrNumber"
          }
        },
        "keepAll": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "reference": {
          "type": "string"
        },
        "transform": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/Transform"
          }
        }
      }
    },
    "ReferenceOrString": {
      "anyOf": [
        {
          "$ref": "#/definitions/Reference"
        },
        {
          "type": "string"
        }
      ]
    },
    "SchemaOptions": {
      "type": "object",
      "properties": {
        "ignoreNotFoundLocalRefs": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "maxRefCacheSize": {
          "type": [
            "integer",
            "null"
          ],
          "format": "uint",
          "minimum": 0.0
        },
        "plugins": {
          "type": [
            "object",
            "null"
          ],
          "additionalProperties": {
            "$ref": "#/definitions/PluginInitArgs"
          }
        },
        "serializeNonStrings": {
          "description": "Whether to serialize references to strings when referencing non-strings in a string schema. If not specified, the default is false and an error will be thrown if a non-string is referenced in a string schema.",
          "type": [
            "boolean",
            "null"
          ]
        },
        "serializer": {
          "description": "The serializer to use when serializing the generated data. If not specified, the default is JSON.",
          "anyOf": [
            {
              "$ref": "#/definitions/Serializer"
            },
            {
              "type": "null"
            }
          ]
        }
      }
    },
    "Serializer": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "pretty": {
              "type": [
                "boolean",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "json"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "yaml"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "rootElement",
            "type"
          ],
          "properties": {
            "rootElement": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "xml"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "pluginName",
            "type"
          ],
          "properties": {
            "args": true,
            "pluginName": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "plugin"
              ]
            }
          }
        }
      ]
    },
    "StringGenerator": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "uuid"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "email"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "firstName"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "lastName"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "fullName"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "username"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "city"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "country"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "countryCode"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "street"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "state"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "zipCode"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "latitude"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "longitude"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "phone"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "args",
            "format",
            "type"
          ],
          "properties": {
            "args": {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/FormatArg"
              }
            },
            "format": {
              "type": "string"
            },
            "serializeNonStrings": {
              "type": [
                "boolean",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "format"
              ]
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "StringOrNumber": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "number",
          "format": "double"
        }
      ]
    },
    "Transform": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "operator",
            "other",
            "type"
          ],
          "properties": {
            "field": {
              "description": "The field or reference to the field which will be used to compare the value with the other value specified in the `other` field. If this is not specified, the value itself will be used.",
              "anyOf": [
                {
                  "$ref": "#/definitions/ReferenceOrString"
                },
                {
                  "type": "null"
                }
              ]
            },
            "operator": {
              "description": "The operator which will be used to compare the value with the other value",
              "allOf": [
                {
                  "$ref": "#/definitions/FilterTransformOp"
                }
              ]
            },
            "other": {
              "description": "The value which will be used to compare the value with",
              "allOf": [
                {
                  "$ref": "#/definitions/GeneratedSchema"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "filter"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "pattern",
            "type"
          ],
          "properties": {
            "pattern": {
              "type": "string"
            },
            "serializeNonStrings": {
              "type": [
                "boolean",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "regexFilter"
              ]
            }
          }
        },
        {
          "description": "Remove all null values from the array or object. This can only be used on arrays and objects.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "filterNonNull"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "oneOf": [
            {
              "description": "The default transform will serialize the generated schema to a string using serde_json.",
              "type": "object",
              "required": [
                "subType"
              ],
              "properties": {
                "subType": {
                  "type": "string",
                  "enum": [
                    "default"
                  ]
                }
              },
              "additionalProperties": false
            },
            {
              "description": "The format transform will serialize the generated schema to a string using a handlebars template.",
              "type": "object",
              "required": [
                "format",
                "subType"
              ],
              "properties": {
                "format": {
                  "description": "The handlebars template",
                  "type": "string"
                },
                "serializeNonStrings": {
                  "description": "Whether to convert non-string values to strings using serde_json.",
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "subType": {
                  "type": "string",
                  "enum": [
                    "format"
                  ]
                }
              },
              "additionalProperties": false
            }
          ],
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "toString"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "recursive": {
              "description": "Whether to apply the transform recursively. Defaults to false.",
              "type": [
                "boolean",
                "null"
              ]
            },
            "serializeNonStrings": {
              "description": "Whether to convert non-string values to strings using serde_json.",
              "type": [
                "boolean",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "toUpperCase"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "recursive": {
              "description": "Whether to apply the transform recursively. Defaults to false.",
              "type": [
                "boolean",
                "null"
              ]
            },
            "serializeNonStrings": {
              "description": "Whether to convert non-string values to strings using serde_json.",
              "type": [
                "boolean",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "toLowerCase"
              ]
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "by": {
              "type": [
                "string",
                "null"
              ]
            },
            "reverse": {
              "type": [
                "boolean",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "sort"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "name",
            "type"
          ],
          "properties": {
            "args": {
              "description": "The arguments which will be passed to the plugin"
            },
            "name": {
              "description": "The path of the plugin which will be used to transform the data",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "plugin"
              ]
            }
          }
        }
      ]
    },
    "string": {
      "anyOf": [
        {
          "type": "object",
          "required": [
            "generator"
          ],
          "properties": {
            "generator": {
              "$ref": "#/definitions/StringGenerator"
            },
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "value"
          ],
          "properties": {
            "transform": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/Transform"
              }
            },
            "value": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      ]
    }
  }
}